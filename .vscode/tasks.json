{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "build-opencv",
            "type": "shell",
            "command": "cl.exe",
            "args": [
                "/utf-8",
                "/std:c++17",
                "/MD",
                "/Fe:\"${workspaceFolder}/bin/seg_main.exe\"",  // 输出可执行文件路径
                "/Zi",
                "/EHsc",
                // 头文件路径（-I 选项，指定 .h 文件所在目录）
                "/I", "\"D:/Program Files/libtorch/include\"",
                "/I", "\"D:/Program Files/libtorch/include/torch/csrc/api/include\"",
                "/I", "\"D:/PROGRA~1/OpenCV4.7/install_x64_release/include\"",
                "/I", "\"${workspaceFolder}/include\"",  // 自定义头文件目录
                // 源文件（.cpp 文件，作为编译输入）
                "\"${workspaceFolder}/src/raw2png.cpp\"",
                "\"${workspaceFolder}/src/png_normalize.cpp\"",
                "\"${workspaceFolder}/src/predict.cpp\"",
                "\"${workspaceFolder}/src/png_denormalize.cpp\"",
                "\"${workspaceFolder}/src/mask2polygon.cpp\"",
                "\"${workspaceFolder}/src/seg_main.cpp\"",
                // 链接选项（库路径和库文件）
                "/link",
                "/LIBPATH:\"D:/Program Files/libtorch/lib\"",
                "/LIBPATH:\"D:/PROGRA~1/OpenCV4.7/install_x64_release/x64/vc16/staticlib\"",
                "/LIBPATH:\"C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/MSVC/14.44.35207/lib/x64\"",
                "/LIBPATH:\"C:/Program Files (x86)/Windows Kits/10/Lib/10.0.22621.0/um/x64\"",
                "/LIBPATH:\"C:/Program Files (x86)/Windows Kits/10/Lib/10.0.22621.0/ucrt/x64\"",
                "D:/Program Files/libtorch/lib/*.lib",
                "D:/PROGRA~1/OpenCV4.7/install_x64_release/x64/vc16/staticlib/*.lib"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "problemMatcher": ["$msCompile"]
        }
    ]
}