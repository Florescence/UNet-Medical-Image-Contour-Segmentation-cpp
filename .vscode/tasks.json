{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "build-opencv",
            "type": "shell",
            "command": "cl.exe",
            "args": [
                "/utf-8",
                "/std:c++17",
                "/MD",
                "/Fe:\"${workspaceFolder}/bin/seg_main.exe\"",
                "/Zi",
                "/EHsc",
                // 头文件路径
                "/I", "\"D:/Program Files/Microsoft.ML.OnnxRuntime.Gpu.1.15.1/build/native/include\"",  // ONNX Runtime头文件
                "/I", "\"D:/Program Files/TensorRT-8.6.1.6/include\"",
                "/I", "\"D:/PROGRA~1/OpenCV4.7/install_x64_release/include\"",
                //"/I", "\"C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v12.6/include\"",
                "/I", "\"D:/Program Files/cuda11.3/include\"",
                "/I", "\"C:/Program Files (x86)/Windows Kits/10/Include/10.0.22621.0/shared\"",
                "/I", "\"${workspaceFolder}/include\"",
                // 源文件
                "\"${workspaceFolder}/src/raw2png.cpp\"",
                "\"${workspaceFolder}/src/png_normalize.cpp\"",
                "\"${workspaceFolder}/src/predict.cpp\"",
                "\"${workspaceFolder}/src/mask2polygon.cpp\"",
                "\"${workspaceFolder}/src/seg_main.cpp\"",
                // 链接选项
                "/link",
                "/LIBPATH:\"D:/Program Files/Microsoft.ML.OnnxRuntime.Gpu.1.15.1/runtimes/win-x64/native\"",  // ONNX Runtime库文件
                "/LIBPATH:\"D:/PROGRA~1/OpenCV4.7/install_x64_release/x64/vc16/staticlib\"",
                "/LIBPATH:\"C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/MSVC/14.44.35207/lib/x64\"",
                //"/LIBPATH:\"C:/Program Files/NVIDIA GPU Computing Toolkit/CUDA/v12.6/lib/x64\"",
                "/LIBPATH:\"D:/Program Files/cuda11.3/lib/x64\"",
                "/LIBPATH:\"C:/Program Files (x86)/Windows Kits/10/Lib/10.0.22621.0/um/x64\"",
                "/LIBPATH:\"C:/Program Files (x86)/Windows Kits/10/Lib/10.0.22621.0/ucrt/x64\"",
                "D:/Program Files/Microsoft.ML.OnnxRuntime.Gpu.1.15.1/runtimes/win-x64/native/*.lib",
                "D:/Program Files/TensorRT-8.6.1.6/lib/*.lib",
                "D:/PROGRA~1/OpenCV4.7/install_x64_release/x64/vc16/staticlib/*.lib",
                "D:/Program Files/cuda11.3/lib/zlibwapi.lib",
                "D:/Program Files/cuda11.3/lib/x64/*.lib"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "problemMatcher": ["$msCompile"]
        }
    ]
}